<html>
<head>
<title>new page</title>
<link rel="icon" href="
data:image/png;base64,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
"/>
<style type="text/css">
textarea {
padding: 10px;
background-color: rgba(0,0,0,0);
}
</style>
</head>
<body style="margin: 0;">
<textarea></textarea>
<script type="text/javascript" src="images.txt"></script>
<script type="text/javascript">
var t = `
<!DOCTYPE html>
 <html>
   <head> 
      <title></title>
      <link rel="icon" id="favicon"/>
      <style type="text/css">
      # My_CSS
      </style>
     </head>
   <body>
   # My_Html
  <script type="text/javascript">
    # My_JavaScript
     </scrip` + `t>
   </body>
 </html>`
var input = document.getElementsByTagName('textarea')[0]
function newDoc() {
input.value=t
localStorage.setItem("wrotenText",'false')
input.blur()
  }
var lastvalue = ""
input.oninput=function() {
 var Pusted = input.value.length - lastvalue.length
 //console.log(Pusted + ' / ' + Pusted > 300)
 if(Pusted > 500) {
console.log("bigger then 500: " + Pusted)
input.value = catchBaseURIs(input.value,true)
 }
var value = input.value
localStorage.setItem("wrotenText",value)
   lastvalue = input.value
 }
function test() {
/*
var opened = window.open("")
opened.document.write(input.value)
*/
console.clear()
var textpage = backBaseURIs(input.value)
document.write(textpage)
setTimeout(function() {
if(window.onload) { window.onload.call() }
 },100)
/* var Page =  new File([textpage], {type: 'page/html '});
var url = URL.createObjectURL(Page)
var a = document.createElement('a')
a.href = url
a.click() */
 }
function save() {
    var value = backBaseURIs(input.value)
    download(value,"Page.html",'allfiles')
  }
document.onkeydown=function(e) {
//console.log(e)
if(e.code == 'KeyS' && e.ctrlKey == true) { e.preventDefault(); save() }
else if(e.code == 'KeyN' && e.altKey == true) { e.preventDefault(); newDoc() }
else if(e.code == 'KeyO' && e.ctrlKey == true) { e.preventDefault(); window.open("Fonts.html") }
else if(e.key == 'Enter' && e.ctrlKey == true) { e.preventDefault(); test() }
else if(e.code == 'KeyL' && e.altKey == true) { e.preventDefault(); pustText(input,'localStorage.',0) }
else if(e.code == 'KeyD' && e.altKey == true) { e.preventDefault(); pustText(input,'document.getElement',0) }
else if(e.code == 'KeyP' && e.altKey == true) { e.preventDefault(); pustFile() }
else if(e.code == 'KeyO' && e.altKey == true) { e.preventDefault(); openImage() }
else if(e.key == 'Tab') { e.preventDefault(); pustText(input,'    ',0) }
else if(e.key == 'Enter') { e.preventDefault(); pustText(input,`
  `,0) }
//else if(e.key == "Backspace") { catchBaseURIs(input.value) }
 }
window.onload = function() {
var c = localStorage.getItem('wrotenText')
if(c != null && c != 'false') { input.value = c; lastvalue = c }
  else { newDoc() }
input.style="position: fixed; margin-left: -3px; margin-top: -3px; font-size: 110%;"
input.style.width=innerWidth+6+'px'
input.style.height=innerHeight+6+'px'
  }
window.onresize=function() {
input.style="position: fixed; margin-left: -2px; margin-top: -2px; font-size: 110%;"
input.style.width=innerWidth+4+'px'
input.style.height=innerHeight+8+'px'
 }
function pustText(el, text, offset) {
    var val = el.value, endIndex, range, doc = el.ownerDocument;
    if (typeof el.selectionStart == "number"
            && typeof el.selectionEnd == "number") {
        endIndex = el.selectionEnd;
        el.value = val.slice(0, endIndex) + text + val.slice(endIndex);
        el.selectionStart = el.selectionEnd = endIndex + text.length+(offset?offset:0);
    } else if (doc.selection != "undefined" && doc.selection.createRange) {
        el.focus();
        range = doc.selection.createRange();
        range.collapse(false);
        range.text = text;
        range.select();
    }
}
  function pustFile() {
var b = document.createElement('input')
b.type="file"
b.click()
b.oninput = function() {
var file = b.files[0]
 if(file != null) {
convert(file)
}
  }
    }
function convert(file) {
var reader = new FileReader()
reader.readAsText(file)
reader.onloadend = function() {
input.value = reader.result
input.value = catchBaseURIs(input.value)
localStorage.setItem("wrotenText",input.value)
lastvalue = input.value
}
   }

 function catchBaseURIs(text,saveValue) {
 if(!saveValue)  { bases=[] }
 var Selected=null
 var code = 'data:image/png'
 var badCode = `
data:image/pn`
 var Result = ""
   function checkCode(I) {
   var F = "";
   for(var i = 0; i < code.length; i++) {
 if(text[I + i] != undefined) {
   F=F+text[I + i]
  }
      }
   if(F == code) { Selected = "code"; return text[I-1]; }
   else if(F == badCode) { Selected = "badCode"; return text[I-1]; }
   // console.log(F)
 return false
    }
  for(var i = 0; i < text.length; i++) {
 var scob = checkCode(i)
 if(scob != false) {
  Result=Result + " image/dataURI_" + bases.length
  i = getEnd(i,Selected)
 //console.log(Selected)
  Result=Result+scob
  console.log("' " + scob + " '")
    }
 else { Result=Result+text[i] }
  }
   function getEnd(place,End) {
  var F = ""
  console.log(End)
  for(var i = place; i < text.length; i++) {
  if(text[i] == scob) { if(End == 'code' && 5==6) { F=F+text[i] }; bases.push(F); return i }
  else { F=F+text[i] }
  }
     }
 if(bases.length != 0) { 
 for(var i =0; i < bases.length; i++) { console.log(bases[i]) }
 download('var bases = ' + bases.toText(),'images.txt','allfiles') }
 else { console.log(' .No data URIs. ') }
 return Result
}
 function backBaseURIs(text) {
 var arrayPos = 0
 var Result = ""
 var code = " image/dataURI_"
    function checkCode(I) {
   var F = "";
   for(var i = 0; i < code.length; i++) {
   F=F+text[I + i]
      }
   if(F == code) { return true }
 return false
    }
 for(var i = 0; i < text.length; i++) {
 var data = checkCode(i)
 if(data) {
   var pos = getNumber(i + code.length)
 console.log(text[i + code.length] + ' / ' + pos)
   i=i+(code.length+pos.toString().length); Result = Result + getArray(pos);
   Result = Result + text[i]; }
 else { Result = Result + text[i] }
  }
 function getArray(pos) {
 var type = bases[pos]
 if(type != undefined) { return type }
 else { return "" }
   }
 function getNumber(I) {
 var Numb = ""
 for(var e = 0; e < text.length; e++) {
 //console.log(''text[I + e])
try {
 var n = eval(text[I + e])
 if(typeof n == 'number') { Numb=Numb+text[I+e] }
 else { return eval(Numb) }
}
 catch { return eval(Numb) }
    }
  return 0
 }
 return Result
    }

function download(data, filename, type) {
console.log(`Data to Download: 
` + data)
    var file = new Blob([data], {type: type});
    if (window.navigator.msSaveOrOpenBlob) // IE10+
        window.navigator.msSaveOrOpenBlob(file, filename);
    else { // Others
        var a = document.createElement("a"),
                url = URL.createObjectURL(file);
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);  
   }
}
Array.prototype.toText = function() {
var F = "["
for(var i = 0; i < this.length; i++) {
F=F+"`"+this[i] + "`"
if(i != this.length-1) { F=F+',' }
   }
return F + ']'
 }
 
 function openImage() {
 var src = window.getSelection().toString()
for(var i = 0; i < bases.length; i++) {
 var code = 'image/dataURI_' + i
 if(src == code || src == " " + code) {
 src = bases[i]; break 
   }
}
 var image = new Image()
 var canv = document.createElement('canvas')
 var ctx = canv.getContext('2d')
  
 image.onload = function() {
  canv.width = this.naturalWidth;     
  canv.height = this.naturalHeight;
  ctx.drawImage(this, 0, 0)
  canv.toBlob(function(blob) {     
 var sourse = URL.createObjectURL(blob)
/*
 var div = document.createElement('div')
 div.style = `position: fixed; z-index: 10; background-color: rgba(255,255,255,0.5); top: 0; left: 0; cursor: default;`
 div.style=width = innerWidth + 'px'
 div.style.height = innerHeight + 'px'
 div.onclick = function() { document.body.removeChild(this) }
*/
if(image.width < innerWidth && image.height < innerHeight) { 
 image.ondblclick = function() { document.body.removeChild(this) }
 image.style= 'border: 1px solid; position: fixed; top: 0; left: 0; cursor: default; margin-top: 100px'
 image.style.marginLeft = (innerWidth - image.width - 100) + 'px'
 var moving = false
document.onmousemove = function(e) {
 if(moving) {
 image.style.marginTop = (e.y - moving[1]) + 'px'
 image.style.marginLeft = (e.x - moving[0])+ 'px'
  }
}
 image.onmousedown = function(e) {
moving = [e.layerX,e.layerY]
   }
image.onmouseup = function() {
moving = false
 }
image.ondragstart = function() {
return false
 }
 document.body.append(image)
 input.blur()
}
else {
 window.open(sourse)
      }
    }, "image/png") // 0.75
  }
 image.onerror = function() {
 alert(" sourse isn't working ")
   }
    image.src = src
  }
</script>
<script id="background" color="rgba(255,255,255,0.95)" src="ImageScript.txt" type="text/javascript"></script>
</body>
</html>